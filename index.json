[{"content":"\u003cp\u003e\u003cimg src=\"/posts/tofu/civo-tofu.svg\" alt=\"Cluster desplegado\"\u003e\u003c/p\u003e\n\u003cdiv style=\"text-align: center;\"\u003e\n    \u003cspan style=\"color: #4CAF50;\"\u003e\n        \u003ci class=\"fas fa-download\"\u003e\u003c/i\u003e\n    \u003c/span\u003e\n    \u003ca href=\"https://gitlab.com/devsecops-labs-experimental/kubernetes-civo-opentofu\" \n       style=\"text-decoration: none; color: inherit;\" \n       target=\"_blank\"\u003e\n        \u003cb\u003eDownload the Project Source Code on GitLab\u003c/b\u003e\n        \u003cspan style=\"color: #e24329;\"\u003e\n            \u003ci class=\"fab fa-gitlab\"\u003e\u003c/i\u003e\n        \u003c/span\u003e\n    \u003c/a\u003e\n\u003c/div\u003e\n\u003ch2 id=\"overview\"\u003eOverview\u003c/h2\u003e\n\u003cp\u003eThis post provides a step-by-step guide on deploying a Kubernetes cluster in Civo, utilizing OpenTofu, an open-source infrastructure-as-code tool. It covers the prerequisites needed for the deployment, such as setting up the Civo API token and installing OpenTofu. The post walks through writing the necessary configuration files, defining the cluster specifications, and applying the configuration to create and manage the cluster.\u003c/p\u003e\n\u003ch2 id=\"prerequisites\"\u003ePrerequisites\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"https://www.civo.com/docs/overview/civo-cli\"\u003eCivo (CLI)\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://opentofu.org/docs/intro/install/\"\u003eOpenTofu\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://kubernetes.io/docs/tasks/tools/#kubectl\"\u003eKubectl\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e\u003cstrong\u003eUseful Commands\u003c/strong\u003e to list and verify different versions, applications, and node sizes, which will help us define the configuration of our Kubernetes cluster before deployment.\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-shell\" data-lang=\"shell\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003ecivo region ls                      \u003cspan style=\"color:#7f848e\"\u003e#List available regions.\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003ecivo kubernetes versions            \u003cspan style=\"color:#7f848e\"\u003e#List available Kubernetes versions.\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003ecivo kubernetes applications ls     \u003cspan style=\"color:#7f848e\"\u003e#List available Kubernetes applications.\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003ecivo kubernetes size                \u003cspan style=\"color:#7f848e\"\u003e#List available Kubernetes node sizes.\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003ch2 id=\"configure-backend\"\u003eConfigure Backend\u003c/h2\u003e\n\u003cp\u003e\u003cstrong\u003eSetting Up Terraform Cloud for Civo Deployment\u003c/strong\u003e\u003c/p\u003e\n\u003cp\u003eIn this example, we use Terraform Cloud as the backend, so it is necessary to create an account in Terraform Cloud, define an organization, create a workspace, and configure the CIVO_TOKEN variable. This variable is essential to grant Terraform Cloud the necessary permissions to access Civo and deploy the required resources.\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/posts/tofu/var.png\" alt=\"Variables\"\u003e\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003eAuthenticating OpenTofu with Terraform Cloud\u003c/strong\u003e\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003eNote:\u003c/strong\u003e To authenticate OpenTofu with Terraform Cloud, first run the command tofu login app.terraform.io. After executing the command, you will be prompted to type \u003ccode\u003eyes\u003c/code\u003e to proceed. Then, paste the \u003ccode\u003etoken\u003c/code\u003e obtained from Terraform Cloud. Once this step is completed, you will be able to use OpenTofu with Terraform Cloud seamlessly.\u003c/p\u003e\n\u003cscript src=\"https://asciinema.org/a/1jhUhBULxMxdoJaYJjTBI3b6k.js\" id=\"asciicast-1jhUhBULxMxdoJaYJjTBI3b6k\" async=\"true\"\u003e\u003c/script\u003e\n\u003ch2 id=\"defining-a-kubernetes-resource\"\u003eDefining a Kubernetes resource\u003c/h2\u003e\n\u003cp\u003e\u003cspan style=\"color: dark; font-weight: bold; font-style: italic; font-size: 1.5em;\"\u003eproviders.tf\u003c/span\u003e\u003c/p\u003e\n\u003cp\u003eIn this section, we define the \u003ca href=\"https://registry.terraform.io/providers/civo/civo/latest\"\u003eprovider\u003c/a\u003e, the \u003ca href=\"https://opentofu.org/docs/cli/cloud/settings/#the-cloud-block\"\u003ebackend\u003c/a\u003e, and configure the corresponding variables: the region where the cluster will be deployed and the token that OpenTofu uses to authenticate with Civo.\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-hcl\" data-lang=\"hcl\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#c678dd\"\u003eterraform\u003c/span\u003e {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e  \u003cspan style=\"color:#c678dd\"\u003erequired_providers\u003c/span\u003e {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#e06c75\"\u003e    civo\u003c/span\u003e \u003cspan style=\"color:#56b6c2\"\u003e=\u003c/span\u003e {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#e06c75\"\u003e      source\u003c/span\u003e  \u003cspan style=\"color:#56b6c2\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#98c379\"\u003e\u0026#34;civo/civo\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#e06c75\"\u003e      version\u003c/span\u003e \u003cspan style=\"color:#56b6c2\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#98c379\"\u003e\u0026#34;1.1.1\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    }\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e  }\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e  \u003cspan style=\"color:#c678dd\"\u003ecloud\u003c/span\u003e {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#e06c75\"\u003e    organization\u003c/span\u003e \u003cspan style=\"color:#56b6c2\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#98c379\"\u003e\u0026#34;xllauca\u0026#34;\u003c/span\u003e\u003cspan style=\"color:#7f848e\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#7f848e\"\u003e    ## Required for Terraform Enterprise; Defaults to app.terraform.io for Terraform Cloud\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#7f848e\"\u003e\u003c/span\u003e\u003cspan style=\"color:#e06c75\"\u003e    hostname\u003c/span\u003e \u003cspan style=\"color:#56b6c2\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#98c379\"\u003e\u0026#34;app.terraform.io\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#c678dd\"\u003eworkspaces\u003c/span\u003e {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#e06c75\"\u003e      name\u003c/span\u003e \u003cspan style=\"color:#56b6c2\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#98c379\"\u003e\u0026#34;prod\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    }\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e  }\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e}\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#c678dd\"\u003eprovider\u003c/span\u003e \u003cspan style=\"color:#98c379\"\u003e\u0026#34;civo\u0026#34;\u003c/span\u003e {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#e06c75\"\u003e  token\u003c/span\u003e  \u003cspan style=\"color:#56b6c2\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#c678dd\"\u003evar\u003c/span\u003e.\u003cspan style=\"color:#c678dd\"\u003eCIVO_TOKEN\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#e06c75\"\u003e  region\u003c/span\u003e \u003cspan style=\"color:#56b6c2\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#c678dd\"\u003evar\u003c/span\u003e.\u003cspan style=\"color:#c678dd\"\u003eregion\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e}\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003e\u003cspan style=\"color: dark; font-weight: bold; font-style: italic; font-size: 1.5em;\"\u003enetwork.tf\u003c/span\u003e\u003c/p\u003e\n\u003cp\u003eIn this section, we define the network region that we will use for our cluster.\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-hcl\" data-lang=\"hcl\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#c678dd\"\u003eresource\u003c/span\u003e \u003cspan style=\"color:#98c379\"\u003e\u0026#34;civo_network\u0026#34; \u0026#34;network_cluster_civo\u0026#34;\u003c/span\u003e {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#e06c75\"\u003e  label\u003c/span\u003e  \u003cspan style=\"color:#56b6c2\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#c678dd\"\u003evar\u003c/span\u003e.\u003cspan style=\"color:#c678dd\"\u003enetwork_name\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#e06c75\"\u003e  region\u003c/span\u003e \u003cspan style=\"color:#56b6c2\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#c678dd\"\u003evar\u003c/span\u003e.\u003cspan style=\"color:#c678dd\"\u003eregion\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e}\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003e\u003cspan style=\"color: dark; font-weight: bold; font-style: italic; font-size: 1.5em;\"\u003efirewall.tf\u003c/span\u003e\u003c/p\u003e\n\u003cp\u003eIn the firewall resource, we define which ports need to be open on our cluster, customizing them according to our needs. In this case, we have configured an ingress rule for port 6443 and an egress rule that allows all traffic. To ensure that the cluster is only accessible from trusted IPs, we need to specify only our public IP in the \u003ccode\u003ecidr = var.authorized_networks\u003c/code\u003e variable, thus avoiding exposing the cluster to the entire Internet.\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-hcl\" data-lang=\"hcl\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#c678dd\"\u003eresource\u003c/span\u003e \u003cspan style=\"color:#98c379\"\u003e\u0026#34;civo_firewall\u0026#34; \u0026#34;civo_firewall_cluster\u0026#34;\u003c/span\u003e {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#e06c75\"\u003e  name\u003c/span\u003e                 \u003cspan style=\"color:#56b6c2\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#c678dd\"\u003evar\u003c/span\u003e.\u003cspan style=\"color:#c678dd\"\u003efirewall_name\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#e06c75\"\u003e  region\u003c/span\u003e               \u003cspan style=\"color:#56b6c2\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#c678dd\"\u003evar\u003c/span\u003e.\u003cspan style=\"color:#c678dd\"\u003eregion\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#e06c75\"\u003e  network_id\u003c/span\u003e           \u003cspan style=\"color:#56b6c2\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#c678dd\"\u003ecivo_network\u003c/span\u003e.\u003cspan style=\"color:#c678dd\"\u003enetwork_cluster_civo\u003c/span\u003e.\u003cspan style=\"color:#c678dd\"\u003eid\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#e06c75\"\u003e  create_default_rules\u003c/span\u003e \u003cspan style=\"color:#56b6c2\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#e5c07b\"\u003efalse\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e  \u003cspan style=\"color:#c678dd\"\u003eingress_rule\u003c/span\u003e {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#e06c75\"\u003e    label\u003c/span\u003e      \u003cspan style=\"color:#56b6c2\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#98c379\"\u003e\u0026#34;k8s\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#e06c75\"\u003e    protocol\u003c/span\u003e   \u003cspan style=\"color:#56b6c2\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#98c379\"\u003e\u0026#34;tcp\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#e06c75\"\u003e    port_range\u003c/span\u003e \u003cspan style=\"color:#56b6c2\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#98c379\"\u003e\u0026#34;6443\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#e06c75\"\u003e    cidr\u003c/span\u003e       \u003cspan style=\"color:#56b6c2\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#c678dd\"\u003evar\u003c/span\u003e.\u003cspan style=\"color:#c678dd\"\u003eauthorized_networks\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#e06c75\"\u003e    action\u003c/span\u003e     \u003cspan style=\"color:#56b6c2\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#98c379\"\u003e\u0026#34;allow\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e  }\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e  \u003cspan style=\"color:#c678dd\"\u003eingress_rule\u003c/span\u003e {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#e06c75\"\u003e    label\u003c/span\u003e      \u003cspan style=\"color:#56b6c2\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#98c379\"\u003e\u0026#34;ssh\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#e06c75\"\u003e    protocol\u003c/span\u003e   \u003cspan style=\"color:#56b6c2\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#98c379\"\u003e\u0026#34;tcp\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#e06c75\"\u003e    port_range\u003c/span\u003e \u003cspan style=\"color:#56b6c2\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#98c379\"\u003e\u0026#34;22\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#e06c75\"\u003e    cidr\u003c/span\u003e       \u003cspan style=\"color:#56b6c2\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#c678dd\"\u003evar\u003c/span\u003e.\u003cspan style=\"color:#c678dd\"\u003eauthorized_networks\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#e06c75\"\u003e    action\u003c/span\u003e     \u003cspan style=\"color:#56b6c2\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#98c379\"\u003e\u0026#34;allow\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e  }\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e  \u003cspan style=\"color:#c678dd\"\u003eegress_rule\u003c/span\u003e {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#e06c75\"\u003e    label\u003c/span\u003e      \u003cspan style=\"color:#56b6c2\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#98c379\"\u003e\u0026#34;all\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#e06c75\"\u003e    protocol\u003c/span\u003e   \u003cspan style=\"color:#56b6c2\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#98c379\"\u003e\u0026#34;tcp\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#e06c75\"\u003e    port_range\u003c/span\u003e \u003cspan style=\"color:#56b6c2\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#98c379\"\u003e\u0026#34;1-65535\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#e06c75\"\u003e    cidr\u003c/span\u003e       \u003cspan style=\"color:#56b6c2\"\u003e=\u003c/span\u003e [\u003cspan style=\"color:#98c379\"\u003e\u0026#34;0.0.0.0/0\u0026#34;\u003c/span\u003e]\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#e06c75\"\u003e    action\u003c/span\u003e     \u003cspan style=\"color:#56b6c2\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#98c379\"\u003e\u0026#34;allow\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e  }\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e}\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003e\u003cspan style=\"color: dark; font-weight: bold; font-style: italic; font-size: 1.5em;\"\u003enode_pools.tf\u003c/span\u003e\u003c/p\u003e\n\u003cp\u003eHere, we define an additional node group (optional) for our Kubernetes cluster, as it is possible to add multiple node groups to the same cluster. In this resource, we can specify the number of nodes and the instance type (size) for this group. Currently, Civo offers several options, such as Standard, Performance, CPU-Optimized, and RAM Optimized, each with different characteristics. Additionally, we can choose whether the nodes in this group will have a public IP.\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-hcl\" data-lang=\"hcl\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#c678dd\"\u003eresource\u003c/span\u003e \u003cspan style=\"color:#98c379\"\u003e\u0026#34;civo_kubernetes_node_pool\u0026#34; \u0026#34;back-end_pool\u0026#34;\u003c/span\u003e {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#e06c75\"\u003e  count\u003c/span\u003e \u003cspan style=\"color:#56b6c2\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#c678dd\"\u003elength\u003c/span\u003e(\u003cspan style=\"color:#c678dd\"\u003evar\u003c/span\u003e.\u003cspan style=\"color:#c678dd\"\u003enode_pools\u003c/span\u003e)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#e06c75\"\u003e  cluster_id\u003c/span\u003e \u003cspan style=\"color:#56b6c2\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#c678dd\"\u003ecivo_kubernetes_cluster\u003c/span\u003e.\u003cspan style=\"color:#c678dd\"\u003ecivo_cluster\u003c/span\u003e.\u003cspan style=\"color:#c678dd\"\u003eid\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#e06c75\"\u003e  label\u003c/span\u003e      \u003cspan style=\"color:#56b6c2\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#c678dd\"\u003evar\u003c/span\u003e.\u003cspan style=\"color:#c678dd\"\u003enode_pools\u003c/span\u003e[\u003cspan style=\"color:#c678dd\"\u003ecount\u003c/span\u003e.\u003cspan style=\"color:#c678dd\"\u003eindex\u003c/span\u003e].\u003cspan style=\"color:#c678dd\"\u003elabel\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#e06c75\"\u003e  node_count\u003c/span\u003e \u003cspan style=\"color:#56b6c2\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#c678dd\"\u003evar\u003c/span\u003e.\u003cspan style=\"color:#c678dd\"\u003enode_pools\u003c/span\u003e[\u003cspan style=\"color:#c678dd\"\u003ecount\u003c/span\u003e.\u003cspan style=\"color:#c678dd\"\u003eindex\u003c/span\u003e].\u003cspan style=\"color:#c678dd\"\u003enode_count\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#e06c75\"\u003e  size\u003c/span\u003e       \u003cspan style=\"color:#56b6c2\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#c678dd\"\u003evar\u003c/span\u003e.\u003cspan style=\"color:#c678dd\"\u003enode_pools\u003c/span\u003e[\u003cspan style=\"color:#c678dd\"\u003ecount\u003c/span\u003e.\u003cspan style=\"color:#c678dd\"\u003eindex\u003c/span\u003e].\u003cspan style=\"color:#c678dd\"\u003esize\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e}\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003e\u003cspan style=\"color: dark; font-weight: bold; font-style: italic; font-size: 1.5em;\"\u003ecluster.tf\u003c/span\u003e\u003c/p\u003e\n\u003cp\u003eIn this section, we define the Kubernetes cluster. In the reference arguments, we specify the resources defined in the previous files, excluding the Container Network Interface (CNI) and the node pool. Currently, Civo offers CNI options such as \u003ccode\u003ecilium\u003c/code\u003e and \u003ccode\u003eflannel\u003c/code\u003e. Unlike the \u003ccode\u003ecivo_kubernetes_node_pool\u003c/code\u003e resource, the node \u003ccode\u003epool\u003c/code\u003e defined here is mandatory.\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-hcl\" data-lang=\"hcl\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#c678dd\"\u003eresource\u003c/span\u003e \u003cspan style=\"color:#98c379\"\u003e\u0026#34;civo_kubernetes_cluster\u0026#34; \u0026#34;civo_cluster\u0026#34;\u003c/span\u003e {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#e06c75\"\u003e  name\u003c/span\u003e               \u003cspan style=\"color:#56b6c2\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#c678dd\"\u003evar\u003c/span\u003e.\u003cspan style=\"color:#c678dd\"\u003ecluster_name\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#e06c75\"\u003e  kubernetes_version\u003c/span\u003e \u003cspan style=\"color:#56b6c2\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#c678dd\"\u003evar\u003c/span\u003e.\u003cspan style=\"color:#c678dd\"\u003ekubernetes_version\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#e06c75\"\u003e  network_id\u003c/span\u003e         \u003cspan style=\"color:#56b6c2\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#c678dd\"\u003ecivo_network\u003c/span\u003e.\u003cspan style=\"color:#c678dd\"\u003enetwork_cluster_civo\u003c/span\u003e.\u003cspan style=\"color:#c678dd\"\u003eid\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#e06c75\"\u003e  firewall_id\u003c/span\u003e        \u003cspan style=\"color:#56b6c2\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#c678dd\"\u003ecivo_firewall\u003c/span\u003e.\u003cspan style=\"color:#c678dd\"\u003ecivo_firewall_cluster\u003c/span\u003e.\u003cspan style=\"color:#c678dd\"\u003eid\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#e06c75\"\u003e  region\u003c/span\u003e             \u003cspan style=\"color:#56b6c2\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#c678dd\"\u003evar\u003c/span\u003e.\u003cspan style=\"color:#c678dd\"\u003eregion\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#e06c75\"\u003e  applications\u003c/span\u003e       \u003cspan style=\"color:#56b6c2\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#c678dd\"\u003evar\u003c/span\u003e.\u003cspan style=\"color:#c678dd\"\u003eapplications\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#e06c75\"\u003e  tags\u003c/span\u003e               \u003cspan style=\"color:#56b6c2\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#c678dd\"\u003evar\u003c/span\u003e.\u003cspan style=\"color:#c678dd\"\u003etags\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#e06c75\"\u003e  cni\u003c/span\u003e                \u003cspan style=\"color:#56b6c2\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#c678dd\"\u003evar\u003c/span\u003e.\u003cspan style=\"color:#c678dd\"\u003ecni\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e  \u003cspan style=\"color:#c678dd\"\u003epools\u003c/span\u003e {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#e06c75\"\u003e    label\u003c/span\u003e      \u003cspan style=\"color:#56b6c2\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#c678dd\"\u003evar\u003c/span\u003e.\u003cspan style=\"color:#c678dd\"\u003enode_label\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#e06c75\"\u003e    node_count\u003c/span\u003e \u003cspan style=\"color:#56b6c2\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#c678dd\"\u003evar\u003c/span\u003e.\u003cspan style=\"color:#c678dd\"\u003enode_count\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#e06c75\"\u003e    size\u003c/span\u003e       \u003cspan style=\"color:#56b6c2\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#c678dd\"\u003evar\u003c/span\u003e.\u003cspan style=\"color:#c678dd\"\u003enode_instance_size\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e  }\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e}\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003e\u003cspan style=\"color: dark; font-weight: bold; font-style: italic; font-size: 1.5em;\"\u003evariables.tf\u003c/span\u003e\u003c/p\u003e\n\u003cp\u003eIn this file, we define all the variables referenced in other files. We can assign some default values, but we must be especially careful with variables containing sensitive information, such as CIVO_TOKEN and others we wish to protect. To ensure the security of these variables and avoid exposing them, we will define and assign their values in Terraform Cloud.\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-hcl\" data-lang=\"hcl\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#c678dd\"\u003evariable\u003c/span\u003e \u003cspan style=\"color:#98c379\"\u003e\u0026#34;CIVO_TOKEN\u0026#34;\u003c/span\u003e {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#e06c75\"\u003e  description\u003c/span\u003e \u003cspan style=\"color:#56b6c2\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#98c379\"\u003e\u0026#34;Personal Access Token to access the CIVO API)\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e}\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#c678dd\"\u003evariable\u003c/span\u003e \u003cspan style=\"color:#98c379\"\u003e\u0026#34;region\u0026#34;\u003c/span\u003e {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#e06c75\"\u003e  type\u003c/span\u003e        \u003cspan style=\"color:#56b6c2\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#c678dd\"\u003estring\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#e06c75\"\u003e  description\u003c/span\u003e \u003cspan style=\"color:#56b6c2\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#98c379\"\u003e\u0026#34;The region in which the cluster should be created.\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#e06c75\"\u003e  default\u003c/span\u003e     \u003cspan style=\"color:#56b6c2\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#98c379\"\u003e\u0026#34;NYC1\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e}\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#c678dd\"\u003evariable\u003c/span\u003e \u003cspan style=\"color:#98c379\"\u003e\u0026#34;cluster_name\u0026#34;\u003c/span\u003e {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#e06c75\"\u003e  type\u003c/span\u003e        \u003cspan style=\"color:#56b6c2\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#c678dd\"\u003estring\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#e06c75\"\u003e  description\u003c/span\u003e \u003cspan style=\"color:#56b6c2\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#98c379\"\u003e\u0026#34;name of the kubernetes cluster\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#e06c75\"\u003e  default\u003c/span\u003e     \u003cspan style=\"color:#56b6c2\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#98c379\"\u003e\u0026#34;core\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e}\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#c678dd\"\u003evariable\u003c/span\u003e \u003cspan style=\"color:#98c379\"\u003e\u0026#34;firewall_name\u0026#34;\u003c/span\u003e {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#e06c75\"\u003e  type\u003c/span\u003e        \u003cspan style=\"color:#56b6c2\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#c678dd\"\u003estring\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#e06c75\"\u003e  description\u003c/span\u003e \u003cspan style=\"color:#56b6c2\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#98c379\"\u003e\u0026#34;name of the kubernetes cluster firewall\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#e06c75\"\u003e  default\u003c/span\u003e     \u003cspan style=\"color:#56b6c2\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#98c379\"\u003e\u0026#34;core\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e}\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#c678dd\"\u003evariable\u003c/span\u003e \u003cspan style=\"color:#98c379\"\u003e\u0026#34;node_label\u0026#34;\u003c/span\u003e {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#e06c75\"\u003e  type\u003c/span\u003e        \u003cspan style=\"color:#56b6c2\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#c678dd\"\u003estring\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#e06c75\"\u003e  description\u003c/span\u003e \u003cspan style=\"color:#56b6c2\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#98c379\"\u003e\u0026#34;Label of the main node pool\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#e06c75\"\u003e  default\u003c/span\u003e     \u003cspan style=\"color:#56b6c2\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#98c379\"\u003e\u0026#34;core\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e}\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#c678dd\"\u003evariable\u003c/span\u003e \u003cspan style=\"color:#98c379\"\u003e\u0026#34;node_count\u0026#34;\u003c/span\u003e {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#e06c75\"\u003e  type\u003c/span\u003e        \u003cspan style=\"color:#56b6c2\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#c678dd\"\u003enumber\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#e06c75\"\u003e  description\u003c/span\u003e \u003cspan style=\"color:#56b6c2\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#98c379\"\u003e\u0026#34;Number of nodes into the cluster\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#e06c75\"\u003e  default\u003c/span\u003e     \u003cspan style=\"color:#56b6c2\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#d19a66\"\u003e3\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e}\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#c678dd\"\u003evariable\u003c/span\u003e \u003cspan style=\"color:#98c379\"\u003e\u0026#34;node_instance_size\u0026#34;\u003c/span\u003e {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#e06c75\"\u003e  type\u003c/span\u003e        \u003cspan style=\"color:#56b6c2\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#c678dd\"\u003estring\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#e06c75\"\u003e  description\u003c/span\u003e \u003cspan style=\"color:#56b6c2\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#98c379\"\u003e\u0026#34;Instance type of the target nodes.\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#e06c75\"\u003e  default\u003c/span\u003e     \u003cspan style=\"color:#56b6c2\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#98c379\"\u003e\u0026#34;g4s.kube.medium\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e}\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#c678dd\"\u003evariable\u003c/span\u003e \u003cspan style=\"color:#98c379\"\u003e\u0026#34;cni\u0026#34;\u003c/span\u003e {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#e06c75\"\u003e  type\u003c/span\u003e        \u003cspan style=\"color:#56b6c2\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#c678dd\"\u003estring\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#e06c75\"\u003e  description\u003c/span\u003e \u003cspan style=\"color:#56b6c2\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#98c379\"\u003e\u0026#34;The cni for the k3s to install\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#e06c75\"\u003e  default\u003c/span\u003e     \u003cspan style=\"color:#56b6c2\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#98c379\"\u003e\u0026#34;cilium\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e}\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#c678dd\"\u003evariable\u003c/span\u003e \u003cspan style=\"color:#98c379\"\u003e\u0026#34;kubernetes_version\u0026#34;\u003c/span\u003e {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#e06c75\"\u003e  type\u003c/span\u003e        \u003cspan style=\"color:#56b6c2\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#c678dd\"\u003estring\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#e06c75\"\u003e  description\u003c/span\u003e \u003cspan style=\"color:#56b6c2\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#98c379\"\u003e\u0026#34;supported version of the k3s cluster\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e}\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#c678dd\"\u003evariable\u003c/span\u003e \u003cspan style=\"color:#98c379\"\u003e\u0026#34;network_name\u0026#34;\u003c/span\u003e {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#e06c75\"\u003e  type\u003c/span\u003e        \u003cspan style=\"color:#56b6c2\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#c678dd\"\u003estring\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#e06c75\"\u003e  description\u003c/span\u003e \u003cspan style=\"color:#56b6c2\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#98c379\"\u003e\u0026#34;name of the network to be created\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e}\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#c678dd\"\u003evariable\u003c/span\u003e \u003cspan style=\"color:#98c379\"\u003e\u0026#34;authorized_networks\u0026#34;\u003c/span\u003e {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#e06c75\"\u003e  type\u003c/span\u003e        \u003cspan style=\"color:#56b6c2\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#c678dd\"\u003eset\u003c/span\u003e(\u003cspan style=\"color:#c678dd\"\u003estring\u003c/span\u003e)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#e06c75\"\u003e  description\u003c/span\u003e \u003cspan style=\"color:#56b6c2\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#98c379\"\u003e\u0026#34;Authorized networks for Kubernetes API server\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#e06c75\"\u003e  default\u003c/span\u003e     \u003cspan style=\"color:#56b6c2\"\u003e=\u003c/span\u003e [\u003cspan style=\"color:#98c379\"\u003e\u0026#34;0.0.0.0/0\u0026#34;\u003c/span\u003e]\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e}\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#c678dd\"\u003evariable\u003c/span\u003e \u003cspan style=\"color:#98c379\"\u003e\u0026#34;tags\u0026#34;\u003c/span\u003e {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#e06c75\"\u003e  type\u003c/span\u003e        \u003cspan style=\"color:#56b6c2\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#c678dd\"\u003estring\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#e06c75\"\u003e  description\u003c/span\u003e \u003cspan style=\"color:#56b6c2\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#98c379\"\u003e\u0026#34;Tags\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#e06c75\"\u003e  default\u003c/span\u003e     \u003cspan style=\"color:#56b6c2\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#98c379\"\u003e\u0026#34;terraform\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e}\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#c678dd\"\u003evariable\u003c/span\u003e \u003cspan style=\"color:#98c379\"\u003e\u0026#34;node_pools\u0026#34;\u003c/span\u003e {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#e06c75\"\u003e  description\u003c/span\u003e \u003cspan style=\"color:#56b6c2\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#98c379\"\u003e\u0026#34;Addons node pools\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#e06c75\"\u003e  type\u003c/span\u003e \u003cspan style=\"color:#56b6c2\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#c678dd\"\u003elist\u003c/span\u003e(\u003cspan style=\"color:#c678dd\"\u003eobject\u003c/span\u003e({\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#e06c75\"\u003e    label\u003c/span\u003e      \u003cspan style=\"color:#56b6c2\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#c678dd\"\u003estring\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#e06c75\"\u003e    node_count\u003c/span\u003e \u003cspan style=\"color:#56b6c2\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#c678dd\"\u003enumber\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#e06c75\"\u003e    size\u003c/span\u003e       \u003cspan style=\"color:#56b6c2\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#c678dd\"\u003estring\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e  }))\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#e06c75\"\u003e  default\u003c/span\u003e \u003cspan style=\"color:#56b6c2\"\u003e=\u003c/span\u003e []\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e}\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#c678dd\"\u003evariable\u003c/span\u003e \u003cspan style=\"color:#98c379\"\u003e\u0026#34;applications\u0026#34;\u003c/span\u003e {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#e06c75\"\u003e  description\u003c/span\u003e \u003cspan style=\"color:#56b6c2\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#98c379\"\u003e\u0026#34;Comma Separated list of Application to be installed\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#e06c75\"\u003e  type\u003c/span\u003e        \u003cspan style=\"color:#56b6c2\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#c678dd\"\u003estring\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#e06c75\"\u003e  default\u003c/span\u003e     \u003cspan style=\"color:#56b6c2\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#98c379\"\u003e\u0026#34;-traefik2-nodeport, metrics-server\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e}\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003e\u003cspan style=\"color: dark; font-weight: bold; font-style: italic; font-size: 1.5em;\"\u003eterraform.tfvars\u003c/span\u003e\u003c/p\u003e\n\u003cp\u003eIn this file, we define values for variables that do not contain sensitive information or whose exposure does not pose a security risk.\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-hcl\" data-lang=\"hcl\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#e06c75\"\u003eregion\u003c/span\u003e             \u003cspan style=\"color:#56b6c2\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#98c379\"\u003e\u0026#34;NYC1\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#e06c75\"\u003ecluster_name\u003c/span\u003e       \u003cspan style=\"color:#56b6c2\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#98c379\"\u003e\u0026#34;k3s-civo-opentofu\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#e06c75\"\u003efirewall_name\u003c/span\u003e      \u003cspan style=\"color:#56b6c2\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#98c379\"\u003e\u0026#34;k3s-production\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#e06c75\"\u003ekubernetes_version\u003c/span\u003e \u003cspan style=\"color:#56b6c2\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#98c379\"\u003e\u0026#34;1.29.2-k3s1\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#e06c75\"\u003enode_label\u003c/span\u003e         \u003cspan style=\"color:#56b6c2\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#98c379\"\u003e\u0026#34;pool-production-front-end\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#e06c75\"\u003enode_instance_size\u003c/span\u003e \u003cspan style=\"color:#56b6c2\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#98c379\"\u003e\u0026#34;g4s.kube.medium\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#e06c75\"\u003enode_count\u003c/span\u003e         \u003cspan style=\"color:#56b6c2\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#d19a66\"\u003e2\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#e06c75\"\u003ecni\u003c/span\u003e                \u003cspan style=\"color:#56b6c2\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#98c379\"\u003e\u0026#34;cilium\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#e06c75\"\u003enetwork_name\u003c/span\u003e       \u003cspan style=\"color:#56b6c2\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#98c379\"\u003e\u0026#34;ks3-production\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#e06c75\"\u003eapplications\u003c/span\u003e       \u003cspan style=\"color:#56b6c2\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#98c379\"\u003e\u0026#34;metrics-server,argo-rollouts,argo-workflows,argocd\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#e06c75\"\u003enode_pools\u003c/span\u003e \u003cspan style=\"color:#56b6c2\"\u003e=\u003c/span\u003e [\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e  {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#e06c75\"\u003e    label\u003c/span\u003e      \u003cspan style=\"color:#56b6c2\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#98c379\"\u003e\u0026#34;pool-production-back-end\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#e06c75\"\u003e    node_count\u003c/span\u003e \u003cspan style=\"color:#56b6c2\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#d19a66\"\u003e2\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#e06c75\"\u003e    size\u003c/span\u003e       \u003cspan style=\"color:#56b6c2\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#98c379\"\u003e\u0026#34;g4s.kube.small\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e  }\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e]\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003ch2 id=\"plan-and-apply-the-configuration\"\u003ePlan and apply the configuration\u003c/h2\u003e\n\u003cp\u003e\u003cspan style=\"color: dark; font-weight: bold; font-style: italic; font-size: 1.5em;\"\u003eResource Creation\u003c/span\u003e\u003c/p\u003e\n\u003cp\u003eOnce you have created the previously mentioned files or downloaded the project source code from GitLab (link at the beginning of the post), you should have a file structure similar to the following:\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-shell\" data-lang=\"shell\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e~/kubernetes-civo-opentofu ❯ tree                       \n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e.\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e├── LICENSE\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e├── README.md\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e├── agent.tf\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e├── cluster.tf\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e├── firewall.tf\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e├── modules\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e│   └── vpc\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e│       ├── main.tf\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e│       ├── outputs.tf\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e│       ├── providers.tf\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e│       └── variables.tf\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e├── network.tf\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e├── node_pools.tf\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e├── outputs.tf\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e├── providers.tf\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e├── terraform.tfvars\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e└── variables.tf\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#d19a66\"\u003e3\u003c/span\u003e directories, \u003cspan style=\"color:#d19a66\"\u003e15\u003c/span\u003e files\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003e\u003cstrong\u003eWarning:\u003c/strong\u003e The \u003ccode\u003e-auto-approve\u003c/code\u003e option should be handled with great care, as it will apply changes automatically without asking for confirmation.\u003c/p\u003e\n\u003cp\u003eNext, run the following commands.\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-shell\" data-lang=\"shell\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003etofu init \n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003etofu plan\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003etofu apply -auto-approve \n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003eOnce the resources have been created, you should see an output similar to the following:\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-shell\" data-lang=\"shell\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e------------------------------------------------------------------------\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003ecivo_network.civo_network_cluster: Creating...\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003ecivo_network.civo_network_cluster: Creation \u003cspan style=\"color:#e5c07b\"\u003ecomplete\u003c/span\u003e after 1s \u003cspan style=\"color:#56b6c2\"\u003e[\u003c/span\u003e\u003cspan style=\"color:#e06c75\"\u003eid\u003c/span\u003e\u003cspan style=\"color:#56b6c2\"\u003e=\u003c/span\u003ee116d8d0-b22b-4177-8f17-18ee46a83b58\u003cspan style=\"color:#56b6c2\"\u003e]\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003ecivo_firewall.civo_firewall_cluster: Creating...\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003ecivo_firewall.civo_firewall_cluster: Creation \u003cspan style=\"color:#e5c07b\"\u003ecomplete\u003c/span\u003e after 4s \u003cspan style=\"color:#56b6c2\"\u003e[\u003c/span\u003e\u003cspan style=\"color:#e06c75\"\u003eid\u003c/span\u003e\u003cspan style=\"color:#56b6c2\"\u003e=\u003c/span\u003e74ace676-e035-4d62-8cdd-3a4c74db6785\u003cspan style=\"color:#56b6c2\"\u003e]\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003ecivo_kubernetes_cluster.civo_cluster: Creating...\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003ecivo_kubernetes_cluster.civo_cluster: Still creating... \u003cspan style=\"color:#56b6c2\"\u003e[\u003c/span\u003e10s elapsed\u003cspan style=\"color:#56b6c2\"\u003e]\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003ecivo_kubernetes_cluster.civo_cluster: Still creating... \u003cspan style=\"color:#56b6c2\"\u003e[\u003c/span\u003e20s elapsed\u003cspan style=\"color:#56b6c2\"\u003e]\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003ecivo_kubernetes_cluster.civo_cluster: Still creating... \u003cspan style=\"color:#56b6c2\"\u003e[\u003c/span\u003e30s elapsed\u003cspan style=\"color:#56b6c2\"\u003e]\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003ecivo_kubernetes_cluster.civo_cluster: Still creating... \u003cspan style=\"color:#56b6c2\"\u003e[\u003c/span\u003e40s elapsed\u003cspan style=\"color:#56b6c2\"\u003e]\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003ecivo_kubernetes_cluster.civo_cluster: Still creating... \u003cspan style=\"color:#56b6c2\"\u003e[\u003c/span\u003e50s elapsed\u003cspan style=\"color:#56b6c2\"\u003e]\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003ecivo_kubernetes_cluster.civo_cluster: Still creating... \u003cspan style=\"color:#56b6c2\"\u003e[\u003c/span\u003e1m0s elapsed\u003cspan style=\"color:#56b6c2\"\u003e]\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003ecivo_kubernetes_cluster.civo_cluster: Creation \u003cspan style=\"color:#e5c07b\"\u003ecomplete\u003c/span\u003e after 1m6s \u003cspan style=\"color:#56b6c2\"\u003e[\u003c/span\u003e\u003cspan style=\"color:#e06c75\"\u003eid\u003c/span\u003e\u003cspan style=\"color:#56b6c2\"\u003e=\u003c/span\u003e30cae189-1734-4e8a-9989-fe754a554bbd\u003cspan style=\"color:#56b6c2\"\u003e]\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003ecivo_kubernetes_node_pool.back-end_pool\u003cspan style=\"color:#56b6c2\"\u003e[\u003c/span\u003e0\u003cspan style=\"color:#56b6c2\"\u003e]\u003c/span\u003e: Creating...\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003ecivo_kubernetes_node_pool.back-end_pool\u003cspan style=\"color:#56b6c2\"\u003e[\u003c/span\u003e0\u003cspan style=\"color:#56b6c2\"\u003e]\u003c/span\u003e: Still creating... \u003cspan style=\"color:#56b6c2\"\u003e[\u003c/span\u003e10s elapsed\u003cspan style=\"color:#56b6c2\"\u003e]\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003ecivo_kubernetes_node_pool.back-end_pool\u003cspan style=\"color:#56b6c2\"\u003e[\u003c/span\u003e0\u003cspan style=\"color:#56b6c2\"\u003e]\u003c/span\u003e: Still creating... \u003cspan style=\"color:#56b6c2\"\u003e[\u003c/span\u003e20s elapsed\u003cspan style=\"color:#56b6c2\"\u003e]\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003ecivo_kubernetes_node_pool.back-end_pool\u003cspan style=\"color:#56b6c2\"\u003e[\u003c/span\u003e0\u003cspan style=\"color:#56b6c2\"\u003e]\u003c/span\u003e: Still creating... \u003cspan style=\"color:#56b6c2\"\u003e[\u003c/span\u003e30s elapsed\u003cspan style=\"color:#56b6c2\"\u003e]\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003ecivo_kubernetes_node_pool.back-end_pool\u003cspan style=\"color:#56b6c2\"\u003e[\u003c/span\u003e0\u003cspan style=\"color:#56b6c2\"\u003e]\u003c/span\u003e: Still creating... \u003cspan style=\"color:#56b6c2\"\u003e[\u003c/span\u003e40s elapsed\u003cspan style=\"color:#56b6c2\"\u003e]\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003ecivo_kubernetes_node_pool.back-end_pool\u003cspan style=\"color:#56b6c2\"\u003e[\u003c/span\u003e0\u003cspan style=\"color:#56b6c2\"\u003e]\u003c/span\u003e: Still creating... \u003cspan style=\"color:#56b6c2\"\u003e[\u003c/span\u003e50s elapsed\u003cspan style=\"color:#56b6c2\"\u003e]\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003ecivo_kubernetes_node_pool.back-end_pool\u003cspan style=\"color:#56b6c2\"\u003e[\u003c/span\u003e0\u003cspan style=\"color:#56b6c2\"\u003e]\u003c/span\u003e: Still creating... \u003cspan style=\"color:#56b6c2\"\u003e[\u003c/span\u003e1m0s elapsed\u003cspan style=\"color:#56b6c2\"\u003e]\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003ecivo_kubernetes_node_pool.back-end_pool\u003cspan style=\"color:#56b6c2\"\u003e[\u003c/span\u003e0\u003cspan style=\"color:#56b6c2\"\u003e]\u003c/span\u003e: Still creating... \u003cspan style=\"color:#56b6c2\"\u003e[\u003c/span\u003e1m10s elapsed\u003cspan style=\"color:#56b6c2\"\u003e]\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003ecivo_kubernetes_node_pool.back-end_pool\u003cspan style=\"color:#56b6c2\"\u003e[\u003c/span\u003e0\u003cspan style=\"color:#56b6c2\"\u003e]\u003c/span\u003e: Still creating... \u003cspan style=\"color:#56b6c2\"\u003e[\u003c/span\u003e1m20s elapsed\u003cspan style=\"color:#56b6c2\"\u003e]\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003ecivo_kubernetes_node_pool.back-end_pool\u003cspan style=\"color:#56b6c2\"\u003e[\u003c/span\u003e0\u003cspan style=\"color:#56b6c2\"\u003e]\u003c/span\u003e: Still creating... \u003cspan style=\"color:#56b6c2\"\u003e[\u003c/span\u003e1m30s elapsed\u003cspan style=\"color:#56b6c2\"\u003e]\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003ecivo_kubernetes_node_pool.back-end_pool\u003cspan style=\"color:#56b6c2\"\u003e[\u003c/span\u003e0\u003cspan style=\"color:#56b6c2\"\u003e]\u003c/span\u003e: Still creating... \u003cspan style=\"color:#56b6c2\"\u003e[\u003c/span\u003e1m40s elapsed\u003cspan style=\"color:#56b6c2\"\u003e]\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003ecivo_kubernetes_node_pool.back-end_pool\u003cspan style=\"color:#56b6c2\"\u003e[\u003c/span\u003e0\u003cspan style=\"color:#56b6c2\"\u003e]\u003c/span\u003e: Still creating... \u003cspan style=\"color:#56b6c2\"\u003e[\u003c/span\u003e1m50s elapsed\u003cspan style=\"color:#56b6c2\"\u003e]\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003ecivo_kubernetes_node_pool.back-end_pool\u003cspan style=\"color:#56b6c2\"\u003e[\u003c/span\u003e0\u003cspan style=\"color:#56b6c2\"\u003e]\u003c/span\u003e: Still creating... \u003cspan style=\"color:#56b6c2\"\u003e[\u003c/span\u003e2m0s elapsed\u003cspan style=\"color:#56b6c2\"\u003e]\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003ecivo_kubernetes_node_pool.back-end_pool\u003cspan style=\"color:#56b6c2\"\u003e[\u003c/span\u003e0\u003cspan style=\"color:#56b6c2\"\u003e]\u003c/span\u003e: Still creating... \u003cspan style=\"color:#56b6c2\"\u003e[\u003c/span\u003e2m10s elapsed\u003cspan style=\"color:#56b6c2\"\u003e]\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003ecivo_kubernetes_node_pool.back-end_pool\u003cspan style=\"color:#56b6c2\"\u003e[\u003c/span\u003e0\u003cspan style=\"color:#56b6c2\"\u003e]\u003c/span\u003e: Still creating... \u003cspan style=\"color:#56b6c2\"\u003e[\u003c/span\u003e2m20s elapsed\u003cspan style=\"color:#56b6c2\"\u003e]\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003ecivo_kubernetes_node_pool.back-end_pool\u003cspan style=\"color:#56b6c2\"\u003e[\u003c/span\u003e0\u003cspan style=\"color:#56b6c2\"\u003e]\u003c/span\u003e: Still creating... \u003cspan style=\"color:#56b6c2\"\u003e[\u003c/span\u003e2m30s elapsed\u003cspan style=\"color:#56b6c2\"\u003e]\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003ecivo_kubernetes_node_pool.back-end_pool\u003cspan style=\"color:#56b6c2\"\u003e[\u003c/span\u003e0\u003cspan style=\"color:#56b6c2\"\u003e]\u003c/span\u003e: Still creating... \u003cspan style=\"color:#56b6c2\"\u003e[\u003c/span\u003e2m40s elapsed\u003cspan style=\"color:#56b6c2\"\u003e]\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003ecivo_kubernetes_node_pool.back-end_pool\u003cspan style=\"color:#56b6c2\"\u003e[\u003c/span\u003e0\u003cspan style=\"color:#56b6c2\"\u003e]\u003c/span\u003e: Still creating... \u003cspan style=\"color:#56b6c2\"\u003e[\u003c/span\u003e2m50s elapsed\u003cspan style=\"color:#56b6c2\"\u003e]\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003ecivo_kubernetes_node_pool.back-end_pool\u003cspan style=\"color:#56b6c2\"\u003e[\u003c/span\u003e0\u003cspan style=\"color:#56b6c2\"\u003e]\u003c/span\u003e: Still creating... \u003cspan style=\"color:#56b6c2\"\u003e[\u003c/span\u003e3m0s elapsed\u003cspan style=\"color:#56b6c2\"\u003e]\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003ecivo_kubernetes_node_pool.back-end_pool\u003cspan style=\"color:#56b6c2\"\u003e[\u003c/span\u003e0\u003cspan style=\"color:#56b6c2\"\u003e]\u003c/span\u003e: Still creating... \u003cspan style=\"color:#56b6c2\"\u003e[\u003c/span\u003e3m10s elapsed\u003cspan style=\"color:#56b6c2\"\u003e]\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003ecivo_kubernetes_node_pool.back-end_pool\u003cspan style=\"color:#56b6c2\"\u003e[\u003c/span\u003e0\u003cspan style=\"color:#56b6c2\"\u003e]\u003c/span\u003e: Still creating... \u003cspan style=\"color:#56b6c2\"\u003e[\u003c/span\u003e3m20s elapsed\u003cspan style=\"color:#56b6c2\"\u003e]\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003ecivo_kubernetes_node_pool.back-end_pool\u003cspan style=\"color:#56b6c2\"\u003e[\u003c/span\u003e0\u003cspan style=\"color:#56b6c2\"\u003e]\u003c/span\u003e: Still creating... \u003cspan style=\"color:#56b6c2\"\u003e[\u003c/span\u003e3m30s elapsed\u003cspan style=\"color:#56b6c2\"\u003e]\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003ecivo_kubernetes_node_pool.back-end_pool\u003cspan style=\"color:#56b6c2\"\u003e[\u003c/span\u003e0\u003cspan style=\"color:#56b6c2\"\u003e]\u003c/span\u003e: Still creating... \u003cspan style=\"color:#56b6c2\"\u003e[\u003c/span\u003e3m40s elapsed\u003cspan style=\"color:#56b6c2\"\u003e]\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003ecivo_kubernetes_node_pool.back-end_pool\u003cspan style=\"color:#56b6c2\"\u003e[\u003c/span\u003e0\u003cspan style=\"color:#56b6c2\"\u003e]\u003c/span\u003e: Still creating... \u003cspan style=\"color:#56b6c2\"\u003e[\u003c/span\u003e3m50s elapsed\u003cspan style=\"color:#56b6c2\"\u003e]\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003ecivo_kubernetes_node_pool.back-end_pool\u003cspan style=\"color:#56b6c2\"\u003e[\u003c/span\u003e0\u003cspan style=\"color:#56b6c2\"\u003e]\u003c/span\u003e: Still creating... \u003cspan style=\"color:#56b6c2\"\u003e[\u003c/span\u003e4m0s elapsed\u003cspan style=\"color:#56b6c2\"\u003e]\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003ecivo_kubernetes_node_pool.back-end_pool\u003cspan style=\"color:#56b6c2\"\u003e[\u003c/span\u003e0\u003cspan style=\"color:#56b6c2\"\u003e]\u003c/span\u003e: Still creating... \u003cspan style=\"color:#56b6c2\"\u003e[\u003c/span\u003e4m10s elapsed\u003cspan style=\"color:#56b6c2\"\u003e]\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003ecivo_kubernetes_node_pool.back-end_pool\u003cspan style=\"color:#56b6c2\"\u003e[\u003c/span\u003e0\u003cspan style=\"color:#56b6c2\"\u003e]\u003c/span\u003e: Still creating... \u003cspan style=\"color:#56b6c2\"\u003e[\u003c/span\u003e4m20s elapsed\u003cspan style=\"color:#56b6c2\"\u003e]\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003ecivo_kubernetes_node_pool.back-end_pool\u003cspan style=\"color:#56b6c2\"\u003e[\u003c/span\u003e0\u003cspan style=\"color:#56b6c2\"\u003e]\u003c/span\u003e: Creation \u003cspan style=\"color:#e5c07b\"\u003ecomplete\u003c/span\u003e after 4m22s \u003cspan style=\"color:#56b6c2\"\u003e[\u003c/span\u003e\u003cspan style=\"color:#e06c75\"\u003eid\u003c/span\u003e\u003cspan style=\"color:#56b6c2\"\u003e=\u003c/span\u003epool-production-back-end\u003cspan style=\"color:#56b6c2\"\u003e]\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eApply complete! Resources: \u003cspan style=\"color:#d19a66\"\u003e4\u003c/span\u003e added, \u003cspan style=\"color:#d19a66\"\u003e0\u003c/span\u003e changed, \u003cspan style=\"color:#d19a66\"\u003e0\u003c/span\u003e destroyed.\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eOutputs:\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#e06c75\"\u003ekubernetes_cluster_ready\u003c/span\u003e \u003cspan style=\"color:#56b6c2\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#e5c07b\"\u003etrue\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#e06c75\"\u003ekubernetes_cluster_status\u003c/span\u003e \u003cspan style=\"color:#56b6c2\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#98c379\"\u003e\u0026#34;ACTIVE\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#e06c75\"\u003ekubernetes_cluster_version\u003c/span\u003e \u003cspan style=\"color:#56b6c2\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#98c379\"\u003e\u0026#34;1.29.2-k3s1\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#e06c75\"\u003ekubernetes_cluster_endpoint\u003c/span\u003e \u003cspan style=\"color:#56b6c2\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#98c379\"\u003e\u0026#34;https://212.2.246.232:6443\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#e06c75\"\u003ekubernetes_cluster_id\u003c/span\u003e \u003cspan style=\"color:#56b6c2\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#98c379\"\u003e\u0026#34;30cae189-1734-4e8a-9989-fe754a554bbd\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#e06c75\"\u003ekubernetes_cluster_name\u003c/span\u003e \u003cspan style=\"color:#56b6c2\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#98c379\"\u003e\u0026#34;k3s-civo-opentofu\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003e\u003cspan style=\"color: dark; font-weight: bold; font-style: italic; font-size: 1.5em;\"\u003eSave and Switch Cluster Configuration\u003c/span\u003e\u003c/p\u003e\n\u003cp\u003eThis command switches to the specified Kubernetes cluster. You should use the cluster name defined in the \u003ccode\u003ekubernetes_cluster_name\u003c/code\u003e variable; in my case, it is \u003ccode\u003ek3s-civo-opentofu\u003c/code\u003e. It then saves this configuration as the default and activates it for immediate use.\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-shell\" data-lang=\"shell\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003ecivo kubernetes config k3s-civo-opentofu --save --switch \n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003e\u003cspan style=\"color: dark; font-weight: bold; font-style: italic; font-size: 1.5em;\"\u003eValidating the Connection to the Cluster\u003c/span\u003e\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-shell\" data-lang=\"shell\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e~ ❯ k get nodes\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eNAME                                                     STATUS     ROLES    AGE     VERSION\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003ek3s-k3s-civo-opentofu-0f4a-dae818-node-pool-c109-ehwpv   Ready      \u0026lt;none\u0026gt;   23m     v1.29.2+k3s1\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003ek3s-k3s-civo-opentofu-0f4a-dae818-node-pool-c109-2nx3f   Ready      \u0026lt;none\u0026gt;   23m     v1.29.2+k3s1\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003ek3s-k3s-civo-opentofu-0f4a-dae818-node-pool-beba-gjlxk   Ready      \u0026lt;none\u0026gt;   21m     v1.29.2+k3s1\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003ek3s-k3s-civo-opentofu-0f4a-dae818-node-pool-beba-w3kvl   Ready      \u0026lt;none\u0026gt;   21m     v1.29.2+k3s1\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e~ ❯ \n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003ch2 id=\"clean-up\"\u003eClean up\u003c/h2\u003e\n\u003cp\u003eTo delete the project, service, and data:\u003c/p\u003e\n\u003col\u003e\n\u003cli\u003eCreate a destroy plan and preview the changes to your infrastructure with the following command:\u003c/li\u003e\n\u003c/ol\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-shell\" data-lang=\"shell\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003etofu plan -destroy\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003col start=\"2\"\u003e\n\u003cli\u003eTo delete the resources and all data, run:\u003c/li\u003e\n\u003c/ol\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-shell\" data-lang=\"shell\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003etofu destroy\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003col start=\"3\"\u003e\n\u003cli\u003eEnter \u003ccode\u003eyes\u003c/code\u003e to confirm. The output is similar to the following:\u003c/li\u003e\n\u003c/ol\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-shell\" data-lang=\"shell\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e------------------------------------------------------------------------\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003ecivo_kubernetes_node_pool.back-end_pool\u003cspan style=\"color:#56b6c2\"\u003e[\u003c/span\u003e0\u003cspan style=\"color:#56b6c2\"\u003e]\u003c/span\u003e: Destroying... \u003cspan style=\"color:#56b6c2\"\u003e[\u003c/span\u003e\u003cspan style=\"color:#e06c75\"\u003eid\u003c/span\u003e\u003cspan style=\"color:#56b6c2\"\u003e=\u003c/span\u003epool-production-back-end\u003cspan style=\"color:#56b6c2\"\u003e]\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003ecivo_kubernetes_node_pool.back-end_pool\u003cspan style=\"color:#56b6c2\"\u003e[\u003c/span\u003e0\u003cspan style=\"color:#56b6c2\"\u003e]\u003c/span\u003e: Destruction \u003cspan style=\"color:#e5c07b\"\u003ecomplete\u003c/span\u003e after 1s\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003ecivo_kubernetes_cluster.civo_cluster: Destroying... \u003cspan style=\"color:#56b6c2\"\u003e[\u003c/span\u003e\u003cspan style=\"color:#e06c75\"\u003eid\u003c/span\u003e\u003cspan style=\"color:#56b6c2\"\u003e=\u003c/span\u003e13b3c6d0-743a-4cc3-9372-3e50514a2577\u003cspan style=\"color:#56b6c2\"\u003e]\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003ecivo_kubernetes_cluster.civo_cluster: Still destroying... \u003cspan style=\"color:#56b6c2\"\u003e[\u003c/span\u003e10s elapsed\u003cspan style=\"color:#56b6c2\"\u003e]\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003ecivo_kubernetes_cluster.civo_cluster: Destruction \u003cspan style=\"color:#e5c07b\"\u003ecomplete\u003c/span\u003e after 11s\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003ecivo_firewall.civo_firewall_cluster: Destroying... \u003cspan style=\"color:#56b6c2\"\u003e[\u003c/span\u003e\u003cspan style=\"color:#e06c75\"\u003eid\u003c/span\u003e\u003cspan style=\"color:#56b6c2\"\u003e=\u003c/span\u003ee92d51b9-3030-4fcd-9d6c-6347634ef88e\u003cspan style=\"color:#56b6c2\"\u003e]\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003ecivo_firewall.civo_firewall_cluster: Destruction \u003cspan style=\"color:#e5c07b\"\u003ecomplete\u003c/span\u003e after 3s\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003ecivo_network.network_cluster_civo: Destroying... \u003cspan style=\"color:#56b6c2\"\u003e[\u003c/span\u003e\u003cspan style=\"color:#e06c75\"\u003eid\u003c/span\u003e\u003cspan style=\"color:#56b6c2\"\u003e=\u003c/span\u003e7ae394dd-9dc5-4166-8927-ad3bf7d7954c\u003cspan style=\"color:#56b6c2\"\u003e]\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003ecivo_network.network_cluster_civo: Destruction \u003cspan style=\"color:#e5c07b\"\u003ecomplete\u003c/span\u003e after 9s\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eApply complete! Resources: \u003cspan style=\"color:#d19a66\"\u003e0\u003c/span\u003e added, \u003cspan style=\"color:#d19a66\"\u003e0\u003c/span\u003e changed, \u003cspan style=\"color:#d19a66\"\u003e4\u003c/span\u003e destroyed.\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e","description":"","image":"/images/post-tofu.jpg","permalink":"https://xavierllauca.com/blogs/civo-k8s-cluster-with-opentofu/","title":"Deploying a Civo Kubernetes Cluster with Opentofu"},{"content":"","description":"My gallery :earth_asia:","image":null,"permalink":"https://xavierllauca.com/gallery/","title":"Image Gallery"}]